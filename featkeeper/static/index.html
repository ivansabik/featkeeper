<!DOCTYPE html>
<html>

<head>
  <title>Featkeeper</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
  <script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.js"></script>
  <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
  <script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js"></script>
</head>

<body>
  <div class="navbar">
    <div class="navbar-inner">
      <a class="brand" href="#">Featkeeper</a>
    </div>
  </div>
  <div id="main" class="container">
    <table class="table table-striped">
      <tr>
        <td style="width: 1px;"></td>
        <td><b>Feature request</b></td>
        <td><b>Action</b></td>
      </tr>
      <!-- ko foreach: featureRequests -->
      <tr>
          <td>
              <span data-bind="visible: done" class="label label-success">Closed</span>
              <span data-bind="visible: !done()" class="label label-important">In Progress</span>
          </td>
          <td><p><b data-bind="text: title"></b></p><p data-bind="text: description"></p></td>
          <td>
              <button data-bind="click: $parent.beginEdit" class="btn">Edit</button>
              <span data-bind="visible: !done()">
                  <button data-bind="click: $parent.markDone" class="btn">Close request</button>
              </span>
          </td>
      </tr>
      <!-- /ko -->
    </table>
    <button class="btn">New feature request</button>
  </div>
  <script type="text/javascript">
    function FeatureRequestViewModel() {
      var self = this;
      self.featureRequests = ko.observableArray();

      self.featureRequests([{
        title: ko.observable('title #1'),
        description: ko.observable('description #1'),
        done: ko.observable(false)
      }, {
        title: ko.observable('title #2'),
        description: ko.observable('description #2'),
        done: ko.observable(true)
      }]);

      self.beginAdd = function() {
        alert("Add");
      }
      self.beginEdit = function(featureRequest) {
        alert("Edit: " + featureRequest.title());
      }
      self.remove = function(featureRequest) {
        alert("Remove: " + featureRequest.title());
      }
      self.markInProgress = function(featureRequest) {
        task.done(false);
      }
      self.markDone = function(task) {
        task.done(true);
      }
    }
    ko.applyBindings(new FeatureRequestViewModel(), $('#main')[0]);
  </script>
</body>

</html>
